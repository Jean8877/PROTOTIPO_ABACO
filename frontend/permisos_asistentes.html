<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gesti칩n de Usuarios - Di칩cesis</title>

    <!-- ICONO -->
    <link rel="shortcut icon" href="../imagenes/imagen.png" type="image/x-icon">

    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- SWEETALERT -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <!-- JS -->
    <script src="app.js"></script>

<style>
    body,
    html {
        margin: 0;
        padding: 0;
        height: 100%;
        background-color: #f5f6fa;
    }

    header {
        height: 60px;
        background-color: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
        padding: 0 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .main-layout {
        display: flex;
        height: calc(100vh - 60px);
    }

    /* Sidebar */
    .sidebar {
        width: 60px;
        background-color: #198754;
        color: white;
        transition: width 0.3s;
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
    }

    .sidebar:hover {
        width: 250px;
    }

    .sidebar a {
        color: white;
        text-decoration: none;
        padding: 15px 20px;
        display: flex;
        align-items: center;
        white-space: nowrap;
    }

    .sidebar a:hover {
        background-color: #157347;
    }

    .sidebar i {
        margin-right: 10px;
        min-width: 20px;
        text-align: center;
    }

    .sidebar span {
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .sidebar:hover span {
        opacity: 1;
    }

    .content {
        flex-grow: 1;
        padding: 20px;
        overflow-y: auto;
    }

    /* Encabezados de secci칩n */
    .section-title {
        background-color: #198754;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: bold;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    /* Tabla */
    .table-container {
        background-color: #fff;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 40px;
        overflow-x: auto;
        /* permite desplazamiento si se necesita */
    }

    .table {
        border-collapse: separate;
        border-spacing: 0;
        width: 100%;
        table-layout: fixed;
        /* fuerza el ajuste del ancho */
    }

    th {
        background-color: #198754;
        color: #fff;
        font-weight: 600;
        text-align: center;
        vertical-align: middle;
        white-space: nowrap;
    }

    td {
        text-align: center;
        vertical-align: middle;
        word-wrap: break-word;
        white-space: normal;
        max-width: 200px;
        /* controla el ancho m치ximo por celda */
        overflow-wrap: break-word;
        /* asegura el salto de l칤nea */
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #f9fafb;
    }

    .table-hover tbody tr:hover {
        background-color: #e9f7ef;
        transition: background-color 0.3s;
    }

    /* Bot칩n eliminar */
    .btn-eliminar {
        background-color: #198754;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 5px 12px;
        font-size: 14px;
        cursor: pointer;
        transition: 0.3s;
    }

    .btn-eliminar:hover {
        background-color: #157347;
    }

    /* Formulario */
    form {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.1);
    }

    h2 {
        color: #198754;
        font-weight: 700;
        text-align: center;
    }

    .btn-custom {
        border-radius: 8px;
        padding: 8px 15px;
        font-size: 14px;
    }
</style>
</head>

<body>
    <!-- HEADER -->
    <header>
        <h5 class="mb-0">Sistema de Inventario y Donaciones, <strong>DIOCESIS</strong></h5>
        <div>
            <i class="bi bi-person-circle"></i>
            <span class="me-3"><strong>Karina</strong></span>
            <i class="bi bi-bell-fill me-3"></i>
        </div>
    </header>

    <!-- LAYOUT -->
    <div class="main-layout">
        <!-- SIDEBAR -->
        <div class="sidebar">
            <a href="menu_central.html"><i class="bi bi-house-door-fill"></i><span>Inicio</span></a>
            <a href="inventario.html"><i class="bi bi-box-seam"></i><span>Inventario</span></a>
            <a href="donaciones.html"><i class="bi bi-heart-fill"></i><span>Donaciones</span></a>
            <a href="voluntarios.html"><i class="bi bi-people-fill"></i><span>Voluntarios</span></a>
            <a href="reportes.html"><i class="bi bi-graph-up"></i><span>Reportes</span></a>
            <a href="configuracion.html" class="mt-auto"><i class="bi bi-gear-fill"></i><span>Configuraci칩n</span></a>
        </div>

        <!-- CONTENIDO -->
        <div class="content">
            <div class="container bg-white p-4 rounded shadow">
                <h2 class="mb-4">游녻 Gesti칩n de Usuarios</h2>

                <!-- LISTA DE USUARIOS -->
                <div class="section-title"><i class="bi bi-people-fill"></i> Lista de Usuarios</div>
                <div class="table-container">
                    <table class="table table-striped table-hover align-middle text-center">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre completo</th>
                                <th>N칰mero de documento</th>
                                <th>Correo</th>
                                <th>Contrase침a</th>
                                <th>Tipo de usuario</th>
                                <th>Tipo de documento</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="tbodyusuario">
                            <!-- Las filas se cargar치n aqu칤 -->
                        </tbody>
                    </table>
                </div>

                <!-- REGISTRAR USUARIO -->
                <div class="section-title"><i class="bi bi-person-plus-fill"></i> Registrar Usuario</div>
                <form id="formUsuario" onsubmit="event.preventDefault(); agregar_usuario();">
                    <div class="mb-3">
                        <label for="nombre_completo" class="form-label">Nombre completo</label>
                        <input type="text" id="nombre_completo" class="form-control" required>
                    </div>

                    <div class="mb-3">
                        <label for="tipo_documento" class="form-label">Tipo de documento</label>
                        <select id="tipo_documento" class="form-select" required></select>
                    </div>

                    <div class="mb-3">
                        <label for="numero_documento" class="form-label">N칰mero de documento</label>
                        <input type="number" id="numero_documento" class="form-control" required>
                    </div>

                    <div class="mb-3">
                        <label for="correo" class="form-label">Correo electr칩nico</label>
                        <input type="email" id="correo" class="form-control" required>
                    </div>

                    <div class="mb-3 position-relative">
                        <label for="contrasena" class="form-label">Contrase침a</label>
                        <div class="input-group">
                            <input type="password" id="contrasena" class="form-control" required>
                            <button class="btn btn-outline-success" type="button" id="togglePassword">
                                <i class="bi bi-eye" id="iconoOjo"></i>
                            </button>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="tipo_usuario" class="form-label">Tipo de usuario</label>
                        <select id="tipo_usuario" class="form-select" required></select>
                    </div>

                    <div class="mb-3">
                        <label for="estado" class="form-label">Estado</label>
                        <select id="estado" class="form-select" required></select>
                    </div>

                    <div class="d-flex justify-content-between">
                        <button type="submit" class="btn btn-success btn-custom">Guardar Usuario</button>
                        <button type="reset" class="btn btn-secondary btn-custom">Limpiar</button>
                    </div>
                </form>

            </div>
        </div>
    </div>

    <script>usuario();</script>
</body>

</html>